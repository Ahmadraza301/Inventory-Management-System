# üöÄ Complete Deployment Guide - Render.com

## Why Render.com?
- ‚úÖ **Free Tier**: 750 hours/month (enough for small projects)
- ‚úÖ **Auto-Deploy**: Connects to GitHub for automatic deployments
- ‚úÖ **PostgreSQL**: Free managed database included
- ‚úÖ **HTTPS**: Automatic SSL certificates
- ‚úÖ **No Sleep Mode**: Unlike Heroku, your app stays awake
- ‚úÖ **Easy Setup**: Simple configuration

---

## üìã Pre-Deployment Checklist

### ‚úÖ Files Ready for Deployment:
- [x] `render.yaml` - Render configuration
- [x] `build.sh` - Build script
- [x] `requirements.txt` - Python dependencies
- [x] `runtime.txt` - Python version
- [x] `Procfile` - Process configuration
- [x] `backend/inventory_system/production_settings.py` - Production settings
- [x] `.env.production` - Environment variables template

---

## üîß Step-by-Step Deployment

### Step 1: Prepare Your GitHub Repository

1. **Push your code to GitHub:**
```bash
git add .
git commit -m "Prepare for production deployment"
git push origin main
```

### Step 2: Create Render Account

1. Go to [render.com](https://render.com)
2. Sign up with your GitHub account
3. Authorize Render to access your repositories

### Step 3: Deploy the Backend (Django API)

1. **Create New Web Service:**
   - Click "New +" ‚Üí "Web Service"
   - Connect your GitHub repository
   - Select your inventory management repo

2. **Configure Backend Service:**
   ```
   Name: inventory-backend
   Environment: Python 3
   Build Command: ./build.sh
   Start Command: cd backend && gunicorn inventory_system.wsgi:application --bind 0.0.0.0:$PORT
   ```

3. **Set Environment Variables:**
   ```
   DJANGO_SETTINGS_MODULE = inventory_system.production_settings
   SECRET_KEY = [Auto-generated by Render]
   DEBUG = False
   ALLOWED_HOSTS = *
   DATABASE_URL = [Auto-connected to database]
   ```

### Step 4: Create PostgreSQL Database

1. **Create Database:**
   - Click "New +" ‚Üí "PostgreSQL"
   - Name: `inventory-db`
   - Database Name: `inventory_management`
   - User: `inventory_user`

2. **Connect to Backend:**
   - In your backend service settings
   - Add environment variable: `DATABASE_URL`
   - Connect to the database you just created

### Step 5: Deploy the Frontend (React)

1. **Create New Static Site:**
   - Click "New +" ‚Üí "Static Site"
   - Connect same GitHub repository
   - Root Directory: `frontend`

2. **Configure Frontend:**
   ```
   Build Command: npm install && npm run build
   Publish Directory: build
   ```

3. **Set Environment Variables:**
   ```
   REACT_APP_API_URL = https://inventory-backend.onrender.com
   ```

### Step 6: Update CORS Settings

After deployment, update your backend environment variables:
```
CORS_ALLOWED_ORIGINS = https://your-frontend-url.onrender.com
```

---

## üåê Alternative Hosting Options

### Option 2: Heroku (Paid)
- **Cost**: $7/month minimum
- **Pros**: Mature platform, good documentation
- **Cons**: No free tier anymore, apps sleep

### Option 3: Railway (Good Alternative)
- **Cost**: Free tier with limits
- **Pros**: Simple deployment, good performance
- **Cons**: Smaller community

### Option 4: DigitalOcean App Platform
- **Cost**: $5/month minimum
- **Pros**: Good performance, scalable
- **Cons**: No free tier

### Option 5: Vercel + PlanetScale (Recommended for React)
- **Frontend**: Vercel (Free)
- **Backend**: Railway or Render
- **Database**: PlanetScale (Free tier)

---

## üîß Quick Deploy Commands

### For Render (Recommended):
```bash
# 1. Push to GitHub
git add .
git commit -m "Deploy to production"
git push origin main

# 2. Render will auto-deploy from GitHub
# No additional commands needed!
```

### For Heroku (if you prefer):
```bash
# 1. Install Heroku CLI
# 2. Login to Heroku
heroku login

# 3. Create apps
heroku create inventory-backend
heroku create inventory-frontend

# 4. Add PostgreSQL
heroku addons:create heroku-postgresql:mini -a inventory-backend

# 5. Set environment variables
heroku config:set DJANGO_SETTINGS_MODULE=inventory_system.production_settings -a inventory-backend
heroku config:set SECRET_KEY=your-secret-key -a inventory-backend

# 6. Deploy
git push heroku main
```

---

## üîê Environment Variables Setup

### Backend Environment Variables:
```env
DJANGO_SETTINGS_MODULE=inventory_system.production_settings
SECRET_KEY=your-super-secret-key-here
DEBUG=False
ALLOWED_HOSTS=*
DATABASE_URL=postgresql://user:password@host:port/database
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com
```

### Frontend Environment Variables:
```env
REACT_APP_API_URL=https://your-backend-domain.com
```

---

## üß™ Post-Deployment Testing

### 1. Test Backend API:
```bash
curl https://your-backend-url.onrender.com/api/auth/login/ \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

### 2. Test Frontend:
- Visit your frontend URL
- Try logging in with: `admin` / `admin123`
- Test creating products, sales, etc.

### 3. Test Database:
- Check if sample data is loaded
- Verify profit calculations are working
- Test all CRUD operations

---

## üö® Troubleshooting

### Common Issues:

1. **Build Fails:**
   - Check `build.sh` permissions
   - Verify all dependencies in `requirements.txt`
   - Check Python version in `runtime.txt`

2. **Database Connection Error:**
   - Verify `DATABASE_URL` environment variable
   - Check database credentials
   - Ensure migrations ran successfully

3. **CORS Errors:**
   - Update `CORS_ALLOWED_ORIGINS` with correct frontend URL
   - Check `ALLOWED_HOSTS` includes your domain

4. **Static Files Not Loading:**
   - Verify `STATIC_ROOT` and `STATIC_URL` settings
   - Check WhiteNoise configuration
   - Run `collectstatic` command

### Debug Commands:
```bash
# Check logs
heroku logs --tail -a your-app-name

# Run migrations manually
heroku run python manage.py migrate -a your-app-name

# Create superuser
heroku run python manage.py createsuperuser -a your-app-name
```

---

## üìä Expected Costs

### Render.com (Recommended):
- **Free Tier**: $0/month
  - 750 hours/month
  - 100GB bandwidth
  - PostgreSQL database included
  
- **Starter Plan**: $7/month
  - Always-on service
  - Custom domains
  - More resources

### Total Monthly Cost:
- **Free**: $0 (perfect for testing/small projects)
- **Production**: $7-14/month (for serious use)

---

## üéØ Final Steps

1. **Deploy to Render** (recommended)
2. **Test all functionality**
3. **Set up custom domain** (optional)
4. **Configure monitoring** (optional)
5. **Set up backups** (recommended)

Your Inventory Management System with Profit Tracking is now ready for production! üéâ

---

## üìû Support

If you encounter any issues:
1. Check the troubleshooting section above
2. Review Render.com documentation
3. Check your application logs
4. Verify environment variables are set correctly

**Your app will be live at:**
- Backend: `https://inventory-backend.onrender.com`
- Frontend: `https://inventory-frontend.onrender.com`